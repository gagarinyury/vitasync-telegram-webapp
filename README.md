# VitaSync Telegram WebApp

VitaSync - —ç—Ç–æ Telegram WebApp –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤–∏—Ç–∞–º–∏–Ω–æ–≤ –∏ –ë–ê–î–æ–≤ —Å –ø–æ–º–æ—â—å—é AI.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç –ê–Ω–∞–ª–∏–∑ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤–∏—Ç–∞–º–∏–Ω–æ–≤ –∏ –ë–ê–î–æ–≤ —á–µ—Ä–µ–∑ OpenAI API
- üìÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –ø—Ä–∏–µ–º–∞
- ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot API
- üöÄ –î–≤–∞ —Ä–µ–∂–∏–º–∞ AI: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π (–Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π) –∏ –ø—Ä–µ–º–∏—É–º (2 –∑–∞–ø—Ä–æ—Å–∞ –≤ –¥–µ–Ω—å)
- üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∞–Ω–∞–ª–∏–∑–æ–≤

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- Node.js + Express
- PostgreSQL –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
- Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- Telegraf –¥–ª—è Telegram Bot
- OpenAI API –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- Socket.io –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### Frontend
- React 18
- Material UI
- Telegram WebApp SDK
- Zustand –¥–ª—è state management
- React Query –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Docker + Docker Compose
- Caddy –¥–ª—è reverse proxy –∏ SSL
- JWT –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

\`\`\`bash
git clone https://github.com/yourusername/vitasync-telegram-webapp.git
cd vitasync-telegram-webapp
\`\`\`

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

\`\`\`bash
cp .env.example .env
\`\`\`

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ .env —Ñ–∞–π–ª:
- \`TELEGRAM_BOT_TOKEN\` - —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram –±–æ—Ç–∞
- \`OPENAI_API_KEY\` - –∫–ª—é—á OpenAI API
- \`JWT_SECRET\` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT
- \`DB_PASSWORD\` - –ø–∞—Ä–æ–ª—å –¥–ª—è PostgreSQL

### 3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

\`\`\`bash
docker-compose up -d
\`\`\`

### 4. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

\`\`\`bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ –≤ dev —Ä–µ–∂–∏–º–µ
npm run dev
\`\`\`

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ WebApp URL —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É:
   \`/setwebapp https://yourdomain.com/webapp\`
3. –í–∫–ª—é—á–∏—Ç–µ inline mode –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Caddy –¥–ª—è SSL

1. –ó–∞–º–µ–Ω–∏—Ç–µ \`example.com\` –≤ Caddyfile –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ DNS –∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. Caddy –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

\`\`\`
vitasync-telegram-webapp/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ database/
‚îú‚îÄ‚îÄ config/
‚îú‚îÄ‚îÄ docs/
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ Caddyfile
‚îî‚îÄ‚îÄ README.md
\`\`\`

## API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- \`POST /api/auth/telegram\` - –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Telegram
- \`GET /api/auth/verify\` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

### –ê–Ω–∞–ª–∏–∑
- \`POST /api/analysis/compatibility\` - –∞–Ω–∞–ª–∏–∑ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- \`GET /api/analysis/history\` - –∏—Å—Ç–æ—Ä–∏—è –∞–Ω–∞–ª–∏–∑–æ–≤
- \`GET /api/analysis/limits\` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤
- \`POST /api/analysis/suggestions\` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- \`GET /api/users/profile\` - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- \`PUT /api/users/profile\` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- Rate limiting –¥–ª—è API endpoints
- HTTPS —á–µ—Ä–µ–∑ Caddy
- –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram hash –¥–ª—è WebApp
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π bcrypt
- –ó–∞—â–∏—Ç–∞ –æ—Ç XSS, CSRF, SQL –∏–Ω—ä–µ–∫—Ü–∏–π

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

- Winston –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- Caddy access logs
- Docker logs

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ä–µ–¥–∞

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Compose:
   \`\`\`bash
   docker-compose -f docker-compose.prod.yml up -d
   \`\`\`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Caddy –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   \`\`\`bash
   docker-compose logs -f
   \`\`\`

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

Telegram: @your_support_bot

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT